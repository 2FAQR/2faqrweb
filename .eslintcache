[{"/Users/slx/Documents/GitHub/2faqrweb/src/App.tsx":"1","/Users/slx/Documents/GitHub/2faqrweb/src/index.tsx":"2","/Users/slx/Documents/GitHub/2faqrweb/src/components/login.tsx":"3","/Users/slx/Documents/GitHub/2faqrweb/src/components/register.tsx":"4","/Users/slx/Documents/GitHub/2faqrweb/src/components/loginqr.tsx":"5","/Users/slx/Documents/GitHub/2faqrweb/src/components/registerQR.tsx":"6","/Users/slx/Documents/GitHub/2faqrweb/src/reportWebVitals.ts":"7","/Users/slx/Documents/GitHub/2faqrweb/src/config.ts":"8","/Users/slx/Documents/GitHub/2faqrweb/src/constants.ts":"9","/Users/slx/Documents/GitHub/2faqrweb/src/components/home.tsx":"10"},{"size":1542,"mtime":1607273075899,"results":"11","hashOfConfig":"12"},{"size":478,"mtime":1606453591945,"results":"13","hashOfConfig":"12"},{"size":2060,"mtime":1607271549480,"results":"14","hashOfConfig":"12"},{"size":2775,"mtime":1607271900622,"results":"15","hashOfConfig":"12"},{"size":2358,"mtime":1607273399537,"results":"16","hashOfConfig":"12"},{"size":2391,"mtime":1607273406216,"results":"17","hashOfConfig":"12"},{"size":425,"mtime":1606452835555,"results":"18","hashOfConfig":"12"},{"size":107,"mtime":1607265923389,"results":"19","hashOfConfig":"12"},{"size":65,"mtime":1606655454756,"results":"20","hashOfConfig":"12"},{"size":474,"mtime":1607271718526,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"uz5q67",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/Users/slx/Documents/GitHub/2faqrweb/src/App.tsx",[],"/Users/slx/Documents/GitHub/2faqrweb/src/index.tsx",[],["46","47"],"/Users/slx/Documents/GitHub/2faqrweb/src/components/login.tsx",["48"],"import React from \"react\";\nimport { Typography, TextField, Button } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { JWT_TOKEN, USERNAME_KEY } from \"../constants\";\nimport { SERVER_BASE_URL } from \"../config\";\n\nconst LoginComponent = () => {\n  const [username, setUsername] = React.useState<string>(\"\");\n  const [password, setPassword] = React.useState<string>(\"\");\n  const history = useHistory();\n  const usernameChangeHandler = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setUsername(event.target.value);\n  };\n  const passwordChangeHandler = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setPassword(event.target.value);\n  };\n\n  const loginUser = async (\n    username: string,\n    password: string\n  ): Promise<any> => {\n    try {\n      const response: Response = await fetch(SERVER_BASE_URL + \"/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: username,\n          password: password,\n        }),\n      });\n      return await response.json();\n    } catch (error) {\n      console.warn(error.message);\n    } finally {\n      console.log(\"Login Function finished\");\n    }\n  };\n\n  const submitHandler = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    loginUser(username, password).then((loginResponse) => {\n      if (loginResponse) {\n        sessionStorage.setItem(JWT_TOKEN, loginResponse[\"Authorization\"]);\n        console.log(loginResponse.message);\n        history.push(\"/loginqr\");\n      }\n    });\n    const { sessionStorage } = window;\n    if (username) {\n      sessionStorage.setItem(USERNAME_KEY, username);\n    }\n  };\n  return (\n    <>\n      <TextField label='Username' onChange={usernameChangeHandler} />\n      <TextField\n        label='Password'\n        onChange={passwordChangeHandler}\n        type='password'\n      />\n      <Button onClick={submitHandler}>Login</Button>\n    </>\n  );\n};\n\nexport default LoginComponent;\n","/Users/slx/Documents/GitHub/2faqrweb/src/components/register.tsx",["49"],"import React from \"react\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { SERVER_BASE_URL } from \"../config\";\nimport { JWT_TOKEN, USERNAME_KEY } from \"../constants\";\n\nexport interface RegisterResponse {\n  status: string;\n  message: string;\n  Authorization: string;\n}\n\nconst RegisterComponent = () => {\n  const [username, setUsername] = React.useState<string>(\"\");\n  const [password, setPassword] = React.useState<string>(\"\");\n  const history = useHistory();\n\n  const usernameChangeHandler = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setUsername(event.target.value);\n  };\n  const passwordChangeHandler = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setPassword(event.target.value);\n  };\n\n  const registerUser = async (\n    username: string,\n    password: string\n  ): Promise<RegisterResponse | undefined> => {\n    try {\n      const response: Response = await fetch(SERVER_BASE_URL + \"/user/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: username,\n          password: password,\n          username: username,\n          public_id: username,\n        }),\n      });\n      const registerResponse: RegisterResponse = await response.json();\n      return registerResponse;\n    } catch (error) {\n      console.warn(error.message);\n    } finally {\n      console.log(\"Login Function finished\");\n    }\n  };\n\n  const submitHandler = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    console.log(username + \" \" + password);\n    registerUser(username, password)\n      .then((registerResponse: RegisterResponse | undefined) => {\n        if (registerResponse) {\n          sessionStorage.setItem(JWT_TOKEN, registerResponse.Authorization);\n          sessionStorage.setItem(USERNAME_KEY, username);\n          console.log(registerResponse.message);\n        }\n      })\n      .finally(() => {\n        history.push(\"/registerqr\");\n      });\n  };\n  const checkIfRegistered = async (token: string) => {\n    try {\n      const res = await fetch(SERVER_BASE_URL + \"/qrcode/checkifregister\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      });\n      return await res.status;\n    } catch (error) {\n      console.warn(error);\n    }\n  };\n\n  return (\n    <>\n      <TextField label='Username' onChange={usernameChangeHandler} />\n      <TextField\n        label='Password'\n        onChange={passwordChangeHandler}\n        type='password'\n      />\n      <Button onClick={submitHandler}>Register</Button>\n    </>\n  );\n};\n\nexport default RegisterComponent;\n","/Users/slx/Documents/GitHub/2faqrweb/src/components/loginqr.tsx",[],"/Users/slx/Documents/GitHub/2faqrweb/src/components/registerQR.tsx",[],"/Users/slx/Documents/GitHub/2faqrweb/src/reportWebVitals.ts",[],["50","51"],"/Users/slx/Documents/GitHub/2faqrweb/src/config.ts",[],"/Users/slx/Documents/GitHub/2faqrweb/src/constants.ts",[],"/Users/slx/Documents/GitHub/2faqrweb/src/components/home.tsx",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":2,"column":10,"nodeType":"58","messageId":"59","endLine":2,"endColumn":20},{"ruleId":"56","severity":1,"message":"60","line":69,"column":9,"nodeType":"58","messageId":"59","endLine":69,"endColumn":26},{"ruleId":"52","replacedBy":"61"},{"ruleId":"54","replacedBy":"62"},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"@typescript-eslint/no-unused-vars","'Typography' is defined but never used.","Identifier","unusedVar","'checkIfRegistered' is assigned a value but never used.",["63"],["64"],"no-global-assign","no-unsafe-negation"]